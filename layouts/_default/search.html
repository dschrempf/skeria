{{ define "footerfiles" }}
<!-- The search script only works with these specific script versions and breaks with newer versions. -->
<!-- https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js -->
<script src="{{ "js/jquery.3.3.1.min.js" | absURL }}"></script>
<!-- https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.0/fuse.min.js -->
<script src="{{ "js/fuse.3.2.0.min.js" | absURL }}"></script>
<!-- https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js -->
<script src="{{ "js/jquery.mark.8.11.1.min.js" | absURL }}"></script>
<script src="{{ "js/search.js" | absURL }}"></script>
{{ end }}

{{ define "main" }}
<div class="content container">
    <div class="post">
        <h1 class="post-title">{{ .Title }}</h1>
        <div>
            <form action="{{ "search" | absURL }}">
                <input type="text" id="search-query" name="s"/>
            </form>
            <div id="search-results">
            </div>
        </div>
        <!-- This template is sucked in by search.js and appended to the search-results div above.
             So editing here will adjust style. -->
        <script id="search-result-template" type="text/x-js-template">
         <div id="summary-${key}">
         <h2><a href="${link}">${title}</a></h2>
         <p>${snippet}</p>
         ${ isset tags }<p>Tags: ${tags}</p>${ end }
         ${ isset categories }<p>Category: ${categories}</p>${ end }
         </div>
        </script>
    </div>
</div>

<script>
 document.getElementById('search-query').focus();
</script>
{{ end }}

